{% extends "base.html" %}

{% block title %}
Enviar Feedback
{% endblock %}

{% block content %}
<div class="form-feedback">
    <div class="feedback-titulo">
        <h2>Como foi sua experiência na CarCenter?</h2>
        <p style="font-size: 20px;">Sua opinião é importante para nós! Por favor, avalie nosso serviço e deixe seu comentário.</p>
    </div>

    <form action="{{ url_for('enviar_feedback_post') }}" method="POST">
    
        <label for="nome" class="label-grande">Nome (opcional):</label>
        <input type="text" id="nome" name="nome" placeholder="Seu nome ou deixe em branco para anônimo" class="input-grande">

        <label class="label-grande">Avaliação:</label>
        <div class="star-rating estrelas-grandes">
            <input type="radio" id="star5" name="rating" value="5">
            <label for="star5" title="5 estrelas">★</label>

            <input type="radio" id="star4" name="rating" value="4">
            <label for="star4" title="4 estrelas">★</label>

            <input type="radio" id="star3" name="rating" value="3">
            <label for="star3" title="3 estrelas">★</label>

            <input type="radio" id="star2" name="rating" value="2">
            <label for="star2" title="2 estrelas">★</label>

            <input type="radio" id="star1" name="rating" value="1" required>
            <label for="star1" title="1 estrela">★</label>
        </div>

        <label for="comentario" class="label-grande">Comentário:</label>
        <textarea id="comentario" name="comentario" rows="4" placeholder="Escreva aqui sua avaliação:" class="input-grande" required></textarea>

        <button type="submit" class="btn-confirmar">Enviar Avaliação</button>
    </form>

    {% if feedbacks %}
        <div class="feedback-lista">
            {% for fb in feedbacks %}
            <div class="feedback-item">
                <h4>{{ fb.nome }}</h4>
                <p><strong>{{ fb.rating }} estrelas</strong></p>
                <p class="comentario">{{ fb.comentario }}</p>
            </div>
            {% endfor %}
        </div>
    {% endif %}
</div>
{% endblock %}
